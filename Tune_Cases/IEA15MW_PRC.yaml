#  --------------------- ROSCO controller tuning input file -------------------
    # Written for use with ROSCO_Toolbox tuning procedures
    # Turbine: IEA 15MW Reference Wind Turbine
# ------------------------------ OpenFAST PATH DEFINITIONS ------------------------------
path_params:
  FAST_InputFile: 'IEA-15-240-RWT-UMaineSemi.fst'                                                                # Name of *.fst file
  FAST_directory: '../Test_Cases/IEA-15-240-RWT-UMaineSemi'                     # Main OpenFAST model directory, where the *.fst lives 
  # Optional (but suggested...)
  rotor_performance_filename:  'Cp_Ct_Cq.IEA15MW.txt'                                # Filename for rotor performance text file (if it has been generated by ccblade already)

# -------------------------------- TURBINE PARAMETERS ----------------------------------- 
turbine_params:
  rotor_inertia:      310619488.            # Rotor inertia [kg m^2], {Available in Elastodyn .sum file}
  rated_rotor_speed:  0.7916813478          # Rated rotor speed [rad/s]
  v_min:              3.                    # Cut-in wind speed [m/s] 
  v_rated:            10.74                 # Rated wind speed [m/s]
  v_max:              25.0                  # Cut-out wind speed [m/s], -- Does not need to be exact (JUST ASSUME FOR NOW)
  max_pitch_rate:     0.0349                # Maximum blade pitch rate [rad/s]
  max_torque_rate:    4500000.              # Maximum torque rate [Nm/s], {~1/4 VS_RtTq/s}
  rated_power:        15000000.             # Rated Power [W]
  bld_edgewise_freq:  4.0324                # Blade edgewise first natural frequency [rad/s]
  bld_flapwise_freq:  3.4872                # Blade flapwise first natural frequency [rad/s]
  TSR_operational:    9.0

#------------------------------- CONTROLLER PARAMETERS ----------------------------------
controller_params:
  # Controller flags 
  LoggingLevel:       2                     # {0: write no debug files, 1: write standard output .dbg-file, 2: write standard output .dbg-file and complete avrSWAP-array .dbg2-file
  F_LPFType:          2                     # {1: first-order low-pass filter, 2: second-order low-pass filter}, [rad/s] (currently filters generator speed and pitch control signals)
  F_NotchType:        0                     # Notch on the measured generator speed {0: disable, 1: enable} 
  IPC_ControlMode:    0                     # Turn Individual Pitch Control (IPC) for fatigue load reductions (pitch contribution) {0: off, 1: 1P reductions, 2: 1P+2P reductions}
  VS_ControlMode:     2                     # Generator torque control mode in above rated conditions {0: constant torque, 1: constant power, 2: TSR tracking PI control}
  PC_ControlMode:     1                     # Blade pitch control mode {0: No pitch, fix to fine pitch, 1: active PI blade pitch control}
  Y_ControlMode:      0                     # Yaw control mode {0: no yaw control, 1: yaw rate control, 2: yaw-by-IPC}
  SS_Mode:            1                     # Setpoint Smoother mode {0: no setpoint smoothing, 1: introduce setpoint smoothing}
  WE_Mode:            2                     # Wind speed estimator mode {0: One-second low pass filtered hub height wind speed, 1: Immersion and Invariance Estimator (Ortega et al.)}
  PS_Mode:            3                     # Pitch saturation mode {0: no pitch saturation, 1: peak shaving, 2: Cp-maximizing pitch saturation, 3: peak shaving and Cp-maximizing pitch saturation}
  SD_Mode:            0                     # Shutdown mode {0: no shutdown procedure, 1: pitch to max pitch at shutdown}
  Fl_Mode:            2                     # Floating specific feedback mode {0: no nacelle velocity feedback, 1: nacelle velocity feedback}
  Flp_Mode:           0                     # Flap control mode {0: no flap control, 1: steady state flap angle, 2: Proportional flap control}
  PA_Mode:            2                     # Pitch actuator mode {0 - not used, 1 - first order filter, 2 - second order filter}
  # Controller parameters       
  # U_pc:               [14]
  zeta_pc:            1.0                   # Pitch controller desired damping ratio [-]
  omega_pc:           0.2                   # Pitch controller desired natural frequency [rad/s]
  zeta_vs:            0.85                  # Torque controller desired damping ratio [-]
  omega_vs:           0.12                  # Torque controller desired natural frequency [rad/s]
  twr_freq:           3.355 # for semi only!
  ptfm_freq:          0.213 # for semi only!
  # Optional - these can be defined, but do not need to be
  min_pitch:          0.0                   # Minimum pitch angle [rad], {default = 0 degrees}
  vs_minspd:          0.523598775           # Minimum rotor speed [rad/s], {default = 0 rad/s}
  ps_percent:         0.8                   # Percent peak shaving  [%, <= 1 ], {default = 80%}
  PA_CornerFreq:      1.5708                  # Pitch actuator natural frequency [rad/s]
  PA_Damping:         0.707                  # Pitch actuator natural frequency [rad/s]

  DISCON:
    PS_BldPitchMin_N: 56
    PS_WindSpeeds: [ 3. ,  3.4,  3.8,  4.2,  4.6,  5. ,  5.4,  5.8,  6.2,  6.6,  7. ,  7.4,  7.8,  8.2,  8.6,  9. ,  9.4,  9.8, 10.2, 10.6, 11. , 11.4, 11.8, 12.2, 12.6, 13. , 13.4, 13.8, 14.2, 14.6, 15. , 15.4, 15.8, 16.2, 16.6, 17. , 17.4, 17.8, 18.2, 18.6, 19. , 19.4, 19.8, 20.2, 20.6, 21. , 21.4, 21.8, 22.2, 22.6, 23. , 23.4, 23.8, 24.2, 24.6, 25. ]
    PS_BldPitchMin: [ 0.052,  0.032,  0.012, -0.012, -0.017, -0.017, -0.017, -0.017, -0.017, -0.017, -0.001,  0.01 ,  0.02 ,  0.029,  0.048,  0.068,  0.085,  0.1  ,  0.113,  0.129,  0.145,  0.159,  0.172,  0.185,  0.197,  0.208,  0.219,  0.229,  0.238,  0.244,  0.251,  0.26 ,  0.269,  0.277,  0.286,  0.296,  0.304,  0.313,  0.322,  0.332,  0.341,  0.35 ,  0.359,  0.369,  0.378,  0.387,  0.396,  0.407,  0.416,  0.424,  0.434,  0.444,  0.454,  0.463,  0.473,  0.481]
    PRC_GenSpeeds: [0.292, 0.292, 0.292, 0.292, 0.311, 0.338, 0.365, 0.392, 0.419, 0.446, 0.459, 0.459, 0.459, 0.459, 0.475, 0.497, 0.519, 0.542, 0.564, 0.564, 0.564, 0.564, 0.564, 0.564, 0.564, 0.564, 0.564, 0.564, 0.564, 0.564, 0.564, 0.558, 0.553, 0.547, 0.542, 0.536, 0.531, 0.526, 0.52 , 0.515, 0.509, 0.504, 0.498, 0.493, 0.487, 0.482, 0.477, 0.471, 0.466, 0.46 , 0.455, 0.449, 0.444, 0.439, 0.433, 0.428]
    PRC_WindSpeeds: [ 3. ,  3.4,  3.8,  4.2,  4.6,  5. ,  5.4,  5.8,  6.2,  6.6,  7. ,  7.4,  7.8,  8.2,  8.6,  9. ,  9.4,  9.8, 10.2, 10.6, 11. , 11.4, 11.8, 12.2, 12.6, 13. , 13.4, 13.8, 14.2, 14.6, 15. , 15.4, 15.8, 16.2, 16.6, 17. , 17.4, 17.8, 18.2, 18.6, 19. , 19.4, 19.8, 20.2, 20.6, 21. , 21.4, 21.8, 22.2, 22.6, 23. , 23.4, 23.8, 24.2, 24.6, 25. ]
    PRC_n: 56
    PRC_Mode: 1
    VS_MinOMSpd: 0
    Fl_Mode: 0

