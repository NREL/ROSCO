$schema: "http://json-schema.org/draft-07/schema#"
$id: ROSCO_toolbox_schema
title: ROSCO toolbox schema
description: Definition of inputs for ROSCO tuning procedure
type: object
properties:
    path_params:
        type: object
        default: {}
        required:
            - FAST_InputFile
            - FAST_directory
            - rotor_performance_filename
        properties:
            FAST_InputFile:
                type: string
                description: Name of `*.fst` file
                # default: IEA-15-240-RWT-UMaineSemi.fst
            FAST_directory:
                type: string
                description: Main OpenFAST model directory, where the `*.fst` lives, relative to directory of this yaml (if applicable)
                # default: Test_Cases/IEA-15-240-RWT/IEA-15-240-RWT-UMaineSemi
            rotor_performance_filename:
                type: string
                description: Filename for rotor performance text file (if it has been generated by ccblade already), relative to directory of this yaml
                # default: Cp_Ct_Cq.IEA15MW.txt

    turbine_params:
        type: object
        default: {}
        required:
            - rotor_inertia
            - rated_rotor_speed
            - v_rated
            - max_pitch_rate
            - max_torque_rate
            - rated_power
            - bld_edgewise_freq
            - bld_flapwise_freq
        properties:
            rotor_inertia:
                type: number
                description: Rotor inertia [kg m^2], {Available in Elastodyn .sum file}
                unit: kg m^2
            rated_rotor_speed:
                type: number
                description: Rated rotor speed [rad/s]
                unit: rad/s
                minimum: 0
            v_min:
                type: number
                description: Cut-in wind speed of the wind turbine.
                unit: m/s
                minimum: 0
            v_max:
                type: number
                description: Cut-out wind speed of the wind turbine.
                unit: m/s
                minimum: 0
            max_pitch_rate:
                type: number
                description: Maximum blade pitch rate [rad/s]
                unit: rad/s
                minimum: 0
            max_torque_rate:
                type: number
                description: Maximum torque rate [Nm/s], {~1/4 VS_RtTq/s}
                unit: Nm/s
                minimum: 0
            rated_power:
                type: number
                description: Rated Power [W]
                unit: W
                minimum: 0
            bld_edgewise_freq:
                type: number
                description: Blade edgewise first natural frequency [rad/s]
                unit: rad/s
                minimum: 0
                default: 4.0
            bld_flapwise_freq:
                type: number
                description: Blade flapwise first natural frequency [rad/s]
                unit: rad/s
                minimum: 0
                default: 0
            TSR_operational:
                type: number
                description: Optimal tip speed ratio, if 0 the optimal TSR will be determined by the Cp surface
                unit: none
                default: 0
                minimum: 0
            reynolds_ref:
                type: number
                description: Reynolds number near rated speeds, used to interpolate airfoils, if provided
                unit: none
                default: 0
                minimum: 0

            
    controller_params:
        type: object
        properties:
            LoggingLevel:
                type: number
                description: 0- write no debug files, 1- write standard output .dbg-file, 2- write standard output .dbg-file and complete avrSWAP-array .dbg2-file
                minimum: 0
                maximum: 3
                default: 1
            F_LPFType:
                type: number
                description: 1- first-order low-pass filter, 2- second-order low-pass filter, [rad/s] (currently filters generator speed and pitch control signals)
                minimum: 1
                maximum: 2
                default: 1
            F_NotchType:        
                type: number
                minimum: 0
                maximum: 3
                default: 0
                description: Notch on the measured generator speed and/or tower fore-aft motion (for floating) {0- disable, 1- generator speed, 2- tower-top fore-aft motion, 3- generator speed and tower-top fore-aft motion}
            IPC_ControlMode:    
                type: number
                minimum: 0
                maximum: 2
                default: 0
                description: Turn Individual Pitch Control (IPC) for fatigue load reductions (pitch contribution) (0- off, 1- 1P reductions, 2- 1P+2P reduction)
            VS_ControlMode:     
                type: number
                minimum: 0
                maximum: 4
                default: 2
                description: Generator torque control mode in above rated conditions (0- no torque control, 1- k*omega^2 with PI transitions, 2- WSE TSR Tracking, 3- Power-based TSR Tracking, 4- Torque-based TSR Tracking)
            VS_ConstPower:     
                type: number
                minimum: 0
                maximum: 1
                default: 0
                description: Do constant power torque control, where above rated torque varies, 0 for constant torque
            VS_FBP:
                type: number
                minimum: 0
                maximum: 3
                default: 0
                description: Configuration for FBP mode (0- variable pitch (disabled), 1- constant power overspeed, 2- WSE-lookup reference tracking, 3- torque-lookup reference tracking)
            PC_ControlMode:     
                type: number
                minimum: 0
                maximum: 1
                default: 1
                description: Blade pitch control mode (0- No pitch, fix to fine pitch, 1- active PI blade pitch control)
            Y_ControlMode:      
                type: number
                minimum: 0
                maximum: 2
                default: 0
                description: Yaw control mode (0- no yaw control, 1- yaw rate control, 2- yaw-by-IPC)
            SS_Mode:            
                type: number
                minimum: 0
                maximum: 2
                default: 1
                description: Setpoint Smoother mode (0- no setpoint smoothing, 1- introduce setpoint smoothing)
            WE_Mode:            
                type: number
                minimum: 0
                maximum: 2
                default: 2
                description: Wind speed estimator mode (0- One-second low pass filtered hub height wind speed, 1- Immersion and Invariance Estimator (Ortega et al.)
            PS_Mode:            
                type: number
                minimum: 0
                maximum: 3
                default: 3
                description: Pitch saturation mode (0- no pitch saturation, 1- peak shaving, 2- Cp-maximizing pitch saturation, 3- peak shaving and Cp-maximizing pitch saturation)
            SU_Mode:
                type: number
                minimum: 0
                maximum: 1
                default: 0
                description: Startup mode (0- no startup procedure, 1- startup enabled)
            SD_Mode:            
                type: number
                minimum: 0
                maximum: 1
                default: 0
                description: Shutdown mode (0- no shutdown procedure, 1- enable shutdown)
            TD_Mode:            
                type: number
                minimum: 0
                maximum: 1
                default: 0
                description: Tower damper mode (0- no tower damper, 1- feed back translational nacelle accelleration to pitch angle
            TRA_Mode:            
                type: number
                minimum: 0
                maximum: 1
                default: 0
                description: Tower resonance avoidance mode (0- no tower resonsnace avoidance, 1- use torque control setpoints to avoid a specific frequency 
            Fl_Mode:            
                type: number
                minimum: 0
                maximum: 2
                default: 0
                description: Floating specific feedback mode (0- no nacelle velocity feedback, 1 - nacelle velocity feedback, 2 - nacelle pitching acceleration feedback)
            Flp_Mode:           
                type: number
                minimum: 0
                maximum: 2
                default: 0
                description: Flap control mode (0- no flap control, 1- steady state flap angle, 2- Proportional flap control)
            PRC_Mode:           
                type: number
                minimum: 0
                maximum: 2
                default: 0
                description: Active Power Control Mode (0- no active power control 1- constant active power control, 2- open loop power vs time, 3- open loop power vs. wind speed)
            ZMQ_Mode:           
                type: number
                minimum: 0
                maximum: 1
                default: 0
                description: ZMQ Mode (0 - ZMQ Inteface, 1 - ZMQ for yaw control)
            ZMQ_UpdatePeriod:
                type: number
                minimum: 0
                default: 2
                description: Call ZeroMQ every [x] seconds, [s]
            PA_Mode:           
                type: number
                minimum: 0
                maximum: 2
                default: 0
                description: Pitch actuator mode {0 - not used, 1 - first order filter, 2 - second order filter}
            PF_Mode:           
                type: number
                minimum: 0
                maximum: 1
                default: 0
                description: Pitch fault mode {0 - not used, 1 - constant offset on one or more blades, 2- pitch stuck at last values}
            OL_Mode:           
                type: number
                minimum: 0
                maximum: 2
                default: 0
                description: Open loop control mode {0- no open loop control, 1- open loop control}
            AWC_Mode:
                type: number
                minimum: 0
                maximum: 2
                default: 0
                description: Active wake control mode {0 - not used, 1 - SNL method, 2 - NREL method}
            Ext_Mode:           
                type: number
                minimum: 0
                maximum: 1
                default: 0
                description: External control mode [0 - not used, 1 - call external dynamic library]
            CC_Mode:           
                type: number
                minimum: 0
                maximum: 2
                default: 0
                description: Cable control mode [0- unused, 1- User defined, 2- Open loop control]
            StC_Mode:           
                type: number
                minimum: 0
                maximum: 2
                default: 0
                description: Structural control mode [0- unused, 1- User defined, 2- Open loop control]
            U_pc:                       
                type: array
                description: List of wind speeds to schedule pitch control zeta and omega 
                unit: m/s
                items:
                    type: number
                    minimum: 0
                    uniqueItems: True
                default: [12]
            zeta_pc:                       
                type: [array,number]
                description: List of pitch controller desired damping ratio at U_pc [-]
                unit: none
                items:
                    type: number
                    minimum: 0
                default: [1.0]
            omega_pc:                     
                type: [array,number]
                description: List of pitch controller desired natural frequency at U_pc [rad/s]
                unit: rad/s
                items:
                    type: number
                    minimum: 0
                default: [0.2]
            interp_type:
                type: string
                description: Type of interpolation between above rated tuning values (only used for multiple pitch controller tuning values)
                default: sigma
                enum: ['sigma', 'linear', 'quadratic', 'cubic']
            zeta_vs:                        
                type: number
                minimum: 0
                description: Torque controller desired damping ratio [-]
                unit: none
                default: 1.0
            omega_vs:                     
                type: number
                minimum: 0
                description: Torque controller desired natural frequency [rad/s]
                unit: rad/s
                default: 0.2
            max_pitch:           
                description: Maximum pitch angle [rad], {default = 90 degrees}
                type: number
                default: 1.57
                unit: rad
            min_pitch:           
                description: Minimum pitch angle [rad]
                type: number
                unit: rad
            vs_minspd:           
                description: Minimum rotor speed [rad/s], {default = 0 rad/s}
                type: number
                default: 0
                unit: rad/s
            ss_vsgain:           
                description: Torque controller setpoint smoother gain bias percentage [%, <= 1 ], {default = 100%}
                type: number
                default: 1.000
                unit: None
            ss_pcgain:           
                description: Pitch controller setpoint smoother gain bias percentage  [%, <= 1 ], {default = 0.1%}
                type: number
                default: 0.001
                unit: rad
            ps_percent:          
                description: Percent peak shaving  [%, <= 1 ], {default = 80%}
                type: number
                default: 0.8
                maximum: 1
                unit: rad
            flp_maxpit:
                description: Maximum (and minimum) flap pitch angle [rad]
                type: number
                default: 0.1745
                unit: rad
            twr_freq:
                type: number
                description: Tower natural frequency, for floating only
                unit: rad/s
                minimum: 0
            ptfm_freq:
                type: number
                description: Platform natural frequency, for floating only
                unit: rad/s
                minimum: 0
            WS_GS_n:
                type: number
                description: Number of wind speed breakpoints
                minimum: 0
                default: 60
            PC_GS_n:
                type: number
                description: Number of pitch angle gain scheduling breakpoints
                minimum: 0
                default: 30
            Kp_float:
                type: [number, array]
                description: Gain(s) of floating feedback control
                unit: s
                items: 
                    type: number
            tune_Fl:
                type: boolean
                description: Whether to automatically tune Kp_float
                default: True
            U_Fl:
                type: [array, string, number]
                description: List of wind speeds for tuning floating feedback, or "all" for all above-rated wind speeds
                default: []
                items:
                    type: number
            zeta_flp:                        
                type: number
                minimum: 0
                description: Flap controller desired damping ratio [-]
                unit: none
            omega_flp:                     
                type: number
                minimum: 0
                description: Flap controller desired natural frequency [rad/s]
                unit: rad/s
            flp_kp_norm:                     
                type: number
                minimum: 0
                description: Flap controller normalization term for DC gain (kappa) 
            flp_tau:                     
                type: number
                minimum: 0
                description: Flap controller time constant for integral gain
                unit: s
            max_torque_factor:                     
                type: number
                minimum: 0
                default: 1.1
                description: Maximum torque = rated torque * max_torque_factor
            IPC_Kp1p:                     
                type: number
                minimum: 0
                description: Proportional gain for IPC, 1P [s]
                default: 0.0
                unit: s
            IPC_Kp2p:                     
                type: number
                minimum: 0
                description: Proportional gain for IPC, 2P [-]
                default: 0.0
            IPC_Ki1p:                     
                type: number
                minimum: 0
                description: Integral gain for IPC, 1P [s]
                default: 0.0
                unit: s
            IPC_Ki2p:                     
                type: number
                minimum: 0
                description: integral gain for IPC, 2P [-]
                default: 0.0
            IPC_Vramp:                     
                type: array
                description: wind speeds for IPC cut-in sigma function [m/s]
                items:
                    type: number
                    minimum: 0.0
                default: [0.0, 0.0]
                unit: m/s
            rgn2k_factor:
                type: number
                description: Factor on VS_Rgn2K to increase/decrease optimal torque control gain, default is 1.  Sometimes environmental conditions or differences in BEM solvers necessitate this change.
                default: 1
                minimum: 0
            VS_FBP_power_mode:
                type: number
                description: Interpretation mode for VS_FBP_P (0- scale relative to rated power, 1- absolute power)
                default: 0
                minimum: 0
                maximum: 1
            VS_FBP_speed_mode:
                type: number
                description: Overspeed or underspeed operating schedule (0- underspeed, 1- overspeed)
                default: 0
                minimum: 0
                maximum: 1
            VS_FBP_U:
                type: array
                description: List of wind speeds to schedule user-defined power curve for fixed blade pitch (FBP) control in Region 3
                unit: m/s
                items:
                    type: number
                    minimum: 0
                    uniqueItems: True
                default: [1.0, 2.0]
            VS_FBP_P:
                type: [array,number]
                description: List of points defining power curve for fixed blade pitch (FBP) control in Region 3, relative or absolute based on VS_FBP_power_mode
                unit: none
                items:
                    type: number
                    minimum: 0
                default: [1.0, 1.0]

            filter_params:
                type: object
                default: {}
                properties:
                    f_lpf_cornerfreq:
                        type: number
                        description: Corner frequency (-3dB point) in the first order low pass filter of the generator speed [rad/s]
                        minimum: 0
                        unit: rad/s
                        # default: 1.00810
                    f_lpf_damping:
                        type: number
                        description: Damping ratio in the first order low pass filter of the generator speed [-]
                        minimum: 0
                        unit: rad/s
                        # default: 0.707
                    f_we_cornerfreq:
                        type: number
                        description: Corner frequency (-3dB point) in the first order low pass filter for the wind speed estimate [rad/s]
                        minimum: 0
                        unit: rad/s
                        default: 0.209440
                    f_fl_highpassfreq:        
                        type: number
                        minimum: 0
                        unit: rad/s
                        default: 0.01042
                        description: Natural frequency of first-order high-pass filter for nacelle fore-aft motion [rad/s]
                    f_ss_cornerfreq:
                        type: number
                        description: First order low-pass filter cornering frequency for setpoint smoother [rad/s]
                        minimum: 0
                        unit: rad/s
                        default: 0.6283
                    f_yawerr:
                        type: number
                        description: Low pass filter corner frequency for yaw controller [rad/
                        minimum: 0
                        unit: rad/s
                        default: 0.17952
                    f_sd_pitchcornerfreq:
                        description: Cutoff Frequency for first order low-pass filter for blade pitch angle for shutdown, [rad/s], {default = 0.41888 ~ time constant of 15s}
                        type: number
                        default: 0.41888
                        unit: rad/s
                    f_sd_yawerrorcornerfreq:
                        description: Cutoff Frequency for first order low-pass filter for yaw error for shutdown, [rad/s], {default = 0.41888 ~ time constant of 15s}
                        type: number
                        default: 0.41888
                        unit: rad/s
                    f_sd_genspdcornerfreq:
                        description: Cutoff Frequency for first order low-pass filter for generator speed for shutdown, [rad/s], {default = 0.41888 ~ time constant of 15s}
                        type: number
                        default: 0.41888
                        unit: rad/s
                    f_vs_refspd_cornerfreq:
                        type: number
                        description: Corner frequency (-3dB point) in the first order low pass filter for TSR tracking torque control [rad/s]
                        minimum: 0
                        unit: rad/s
                        default: 0.209440
            open_loop:
                type: object
                default: {}
                properties:
                    flag:
                        description: Flag to use open loop control
                        type: boolean
                        default: False
                    filename:
                        description: Filename of open loop input that ROSCO reads
                        type: string
                        default: unused
                    OL_BP_Mode:
                        description: Breakpoint mode for open loop control, 0 - indexed by time (default), 1 - indexed by wind speed
                        type: number
                        default: 0
                        minimum: 0
                        maximum: 1
                    Ind_Breakpoint:
                        description: Index (column, 1-indexed) of breakpoint (time) in open loop index
                        type: number
                        default: 1
                        minimum: 0
                    Ind_BldPitch:
                        description: Indices (columns, 1-indexed) of pitch (1,2,3) inputs in open loop input
                        type: array
                        items:
                            type: number
                            minimum: 0
                        default: [0, 0, 0]
                    Ind_GenTq:
                        description: Index (column, 1-indexed) of generator torque in open loop input
                        type: number
                        default: 0
                        minimum: 0
                    Ind_YawRate:
                        description: Index (column, 1-indexed) of nacelle yaw in open loop input
                        type: number
                        default: 0
                        minimum: 0
                    Ind_Azimuth:
                        type: number
                        default: 0
                        description: The column in OL_Filename that contains the desired azimuth position in rad (used if OL_Mode = 2)
                    Ind_R_Speed:
                        description: Index (column, 1-indexed) of power rating via speed offset
                        type: number
                        default: 0
                        minimum: 0
                    Ind_R_Torque:
                        description: Index (column, 1-indexed) of power rating via torque offset
                        type: number
                        default: 0
                        minimum: 0
                    Ind_R_Pitch:
                        description: Index (column, 1-indexed) of power rating via pitch offset
                        type: number
                        default: 0
                        minimum: 0
                    Ind_CableControl:
                        type: array
                        items:
                            type: number
                        description: The column in OL_Filename that contains the cable control inputs in m
                        default: [0]
                    Ind_StructControl:
                        type: array
                        items:
                            type: number
                        description: The column in OL_Filename that contains the structural control inputs in various units
                        default: [0]
            PA_CornerFreq:
                type: number
                description: Pitch actuator natural frequency [rad/s]
                unit: rad/s
                default: 3.14
                minimum: 0
            PA_Damping:
                type: number
                description: Pitch actuator damping ratio [-]
                default: 0.707
                minimum: 0

            DISCON:
                type: object
                description: These are pass-through parameters for the DISCON.IN file.  Use with caution. Do not set defaults in schema.
                default: {}
                properties:
                    LoggingLevel:
                        type: number
                        description: (0- write no debug files, 1- write standard output .dbg-file, 2- write standard output .dbg-file and complete avrSWAP-array .dbg2-file)
                    Echo:
                        type: number
                        description: 0 - no Echo, 1 - Echo input data to <RootName>.echo
                        default: 0
                    DT_Out:
                        type: number
                        description: Time step to output .dbg* files, or 0 to match sampling period of OpenFAST
                        default: 0
                    Ext_Interface:
                        type: number
                        description: 0 - use standard bladed interface, 1 - Use the extened DLL interface introduced in OpenFAST 3.5.0.
                        minimum: 0
                        maximum: 1
                        default: 1
                    F_LPFType:
                        type: number
                        description: 1- first-order low-pass filter, 2- second-order low-pass filter (currently filters generator speed and pitch control signals
                    VS_ControlMode:     
                        type: number
                        minimum: 0
                        maximum: 4
                        description: Generator torque control mode in above rated conditions (0- no torque control, 1- k*omega^2 with PI transitions, 2- WSE TSR Tracking, 3- Power-based TSR Tracking, 4- Torque-based TSR Tracking)
                    VS_ConstPower:     
                        type: number
                        minimum: 0
                        maximum: 1
                        description: Do constant power torque control, where above rated torque varies
                    VS_FBP:
                        type: number
                        minimum: 0
                        maximum: 3
                        description: Configuration for FBP mode (0- variable pitch (disabled), 1- constant power overspeed, 2- WSE-lookup reference tracking, 3- torque-lookup reference tracking)
                    F_NotchType:
                        type: number
                        description: Notch on the measured generator speed and/or tower fore-aft motion (for floating) (0- disable, 1- generator speed, 2- tower-top fore-aft motion, 3- generator speed and tower-top fore-aft motion)
                    IPC_ControlMode:
                        type: number
                        description: Turn Individual Pitch Control (IPC) for fatigue load reductions (pitch contribution) (0- off, 1- 1P reductions, 2- 1P+2P reductions)
                    PC_ControlMode:
                        type: number
                        description: Blade pitch control mode (0- No pitch, fix to fine pitch, 1- active PI blade pitch control)
                    Y_ControlMode:
                        type: number
                        description: Yaw control mode (0- no yaw control, 1- yaw rate control, 2- yaw-by-IPC)
                    SS_Mode:
                        type: number
                        description: Setpoint Smoother mode (0- no setpoint smoothing, 1- introduce setpoint smoothing)
                    WE_Mode:
                        type: number
                        description: Wind speed estimator mode (0- One-second low pass filtered hub height wind speed, 1- Immersion and Invariance Estimator, 2- Extended Kalman Filter)
                    PS_Mode:
                        type: number
                        description: Pitch saturation mode (0- no pitch saturation, 1- implement pitch saturation)
                    SU_Mode:
                        type: number
                        description: Startup mode (0- no startup procedure, 1- startup enabled)
                    SD_Mode:
                        type: number
                        description: Shutdown mode (0- no shutdown procedure, 1- enable shutdown)
                    Fl_Mode:
                        type: number
                        description: Floating specific feedback mode (0- no nacelle velocity feedback, 1- feed back translational velocity, 2- feed back rotational veloicty)
                    Flp_Mode:
                        type: number
                        description: Flap control mode (0- no flap control, 1- steady state flap angle, 2- Proportional flap control)
                    OL_Mode:
                        type: number
                        description: Open loop control mode (0 - no open-loop control, 1 - direct open loop control, 2 - rotor position control)
                    F_LPFCornerFreq:
                        type: number
                        description: Corner frequency (-3dB point) in the low-pass filters, 
                        units: rad/s
                    F_LPFDamping:
                        type: number
                        description: Damping coefficient (used only when F_FilterType = 2 [-]
                    F_NumNotchFilts:
                        type: number
                        description: Number of notch filters placed on sensors
                    F_NotchFreqs:
                        type: [array,number]
                        items:
                            type: number
                        description: Natural frequency of the notch filters. Array with length F_NumNotchFilts
                        units: rad/s
                    F_NotchBetaNum:
                        type: [array, number]
                        items:
                            type: number
                        description: Damping value of numerator (determines the width of notch). Array with length F_NumNotchFilts, [-]
                    F_NotchBetaDen:
                        type: [array, number]
                        items:
                            type: number
                        description: Damping value of denominator (determines the depth of notch). Array with length F_NumNotchFilts, [-]
                    F_GenSpdNotch_N:
                        type: number
                        description: Number of notch filters on generator speed
                    F_TwrTopNotch_N:
                        type: number
                        description: Number of notch filters on tower top acceleration signal
                    F_GenSpdNotch_Ind:
                        type: [array, number]
                        items:
                            type: number                        
                        description: Indices of notch filters on generator speed
                    F_TwrTopNotch_Ind:
                        type: [array, number]
                        items:
                            type: number                        
                        description: Indices of notch filters on tower top acceleration signal
                    F_SSCornerFreq:
                        type: number
                        description: Corner frequency (-3dB point) in the first order low pass filter for the setpoint smoother, 
                        units: rad/s.
                    F_WECornerFreq:
                        type: number
                        description: Corner frequency (-3dB point) in the first order low pass filter for the wind speed estimate 
                        units: rad/s.
                    F_FlCornerFreq:
                        type: array
                        items:
                            type: number
                        description: Natural frequency and damping in the second order low pass filter of the tower-top fore-aft motion for floating feedback control 
                        units: rad/s
                    F_FlHighPassFreq:
                        type: number
                        description: Natural frequency of first-order high-pass filter for nacelle fore-aft motion 
                        units: rad/s
                    F_FlpCornerFreq:
                        type: array
                        items:
                            type: number
                        description: Corner frequency and damping in the second order low pass filter of the blade root bending moment for flap control 
                        units: rad/s
                    F_VSRefSpdCornerFreq:
                        type: number
                        description: Corner frequency (-3dB point) in the first order low pass filter of the generator speed reference used for TSR tracking torque control [rad/s].
                        units: rad
                    PC_GS_n:
                        type: number
                        description: Amount of gain-scheduling table entries
                    PC_GS_angles:
                        type: array
                        items:
                            type: number
                        description: Gain-schedule table- pitch angles 
                        units: rad
                    PC_GS_KP:
                        type: array
                        items:
                            type: number
                        description: Gain-schedule table- pitch controller kp gains 
                        units: s
                    PC_GS_KI:
                        type: array
                        items:
                            type: number
                        description: Gain-schedule table- pitch controller ki gains 
                    PC_GS_KD:
                        type: array
                        items:
                            type: number
                        description: Gain-schedule table- pitch controller kd gains
                    PC_GS_TF:
                        type: array
                        items:
                            type: number
                        description: Gain-schedule table- pitch controller tf gains (derivative filter)
                    PC_MaxPit:
                        type: number
                        description: Maximum physical pitch limit, 
                        units: rad
                    PC_MinPit:
                        type: number
                        description: Minimum physical pitch limit, 
                        units: rad
                    PC_MaxRat:
                        type: number
                        description: Maximum pitch rate (in absolute value) in pitch controller
                        units: rad/s.
                    PC_MinRat:
                        type: number
                        description: Minimum pitch rate (in absolute value) in pitch controller
                        units: rad/s.
                    PC_RefSpd:
                        type: number
                        description: Desired (reference) HSS speed for pitch controller
                        units: rad/s.
                    PC_FinePit:
                        type: number
                        description: Record 5- Below-rated pitch angle set-point
                        units: rad
                    PC_Switch:
                        type: number
                        description: Angle above lowest minimum pitch angle for switch
                        units: rad
                    IPC_IntSat:
                        type: number
                        description: Integrator saturation (maximum signal amplitude contribution to pitch from IPC)
                        units: rad
                    IPC_SatMode:
                        type: integer
                        description: IPC Saturation method (0 - no saturation, 1 - saturate by PC_MinPit, 2 - saturate by PS_BldPitchMin)
                    IPC_KP:
                        type: array
                        items:
                            type: number
                        description: Proportional gain for the individual pitch controller- first parameter for 1P reductions, second for 2P reductions, [-]
                    IPC_KI:
                        type: array
                        items:
                            type: number
                        description: Integral gain for the individual pitch controller- first parameter for 1P reductions, second for 2P reductions, [-]
                    IPC_aziOffset:
                        type: array
                        items:
                            type: number
                        description: Phase offset added to the azimuth angle for the individual pitch controller
                        units: rad
                    IPC_CornerFreqAct:
                        type: number
                        description: Corner frequency of the first-order actuators model, to induce a phase lag in the IPC signal (0- Disable)
                        units: rad/s
                    VS_GenEff:
                        type: number
                        description: Generator efficiency mechanical power -> electrical power, should match the efficiency defined in the generator properties
                        units: percent
                    VS_ArSatTq:
                        type: number
                        description: Above rated generator torque PI control saturation
                        units: Nm
                    VS_MaxRat:
                        type: number
                        description: Maximum torque rate (in absolute value) in torque controller
                        units: Nm/s
                    VS_MaxTq:
                        type: number
                        description: Maximum generator torque in Region 3 (HSS side)
                        units: Nm
                    VS_MinTq:
                        type: number
                        description: Minimum generator torque (HSS side)
                        units: Nm
                    VS_MinOMSpd:
                        type: number
                        description: Minimum generator speed 
                        units: rad/s
                    VS_Rgn2K:
                        type: number
                        description: Generator torque constant in Region 2 (HSS side). Only used in VS_ControlMode = 1,3,4
                        units: Nm/(rad/s)^2
                    VS_RtPwr:
                        type: number
                        description: Wind turbine rated power 
                        units: W
                    VS_RtTq:
                        type: number
                        description: Rated torque
                        units: Nm
                    VS_RefSpd:
                        type: number
                        description: Rated generator speed 
                        units: rad/s
                    VS_n:
                        type: number
                        description: Number of generator PI torque controller gains
                    VS_KP:
                        type: number
                        description: Proportional gain for generator PI torque controller. (Only used in the transitional 2.5 region if VS_ControlMode =/ 2)
                    VS_KI:
                        type: number
                        description: Integral gain for generator PI torque controller  (Only used in the transitional 2.5 region if VS_ControlMode =/ 2)
                        units: s
                    VS_TSRopt:
                        type: number
                        description: Power-maximizing region 2 tip-speed-ratio. Only used in VS_ControlMode = 2.
                        units: rad
                    SS_VSGain:
                        type: number
                        description: Variable speed torque controller setpoint smoother gain
                    SS_PCGain:
                        type: number
                        description: Collective pitch controller setpoint smoother gain
                    PRC_Mode:
                        type: number
                        description: Power reference tracking mode, 0- use standard rotor speed set points, 1- use PRC rotor speed setpoints
                    PRC_WindSpeeds:
                        type: array
                        items:
                            type: number
                        description: Array of wind speeds used in rotor speed vs. wind speed lookup table [m/s]
                    PRC_GenSpeeds:
                        type: array
                        items:
                            type: number
                        description: Array of generator speeds corresponding to PRC_WindSpeeds [rad/s]
                    PRC_LPF_Freq:
                        type: number
                        description: Frequency of the low pass filter on the wind speed estimate used to set PRC_GenSpeeds [rad/s]
                        default: 0.078539
                    PRC_n:      # figure out what to do with this!
                        type: number
                        description: Number of elements in PRC_WindSpeeds and PRC_GenSpeeds array
                    PRC_Comm:
                        type: number
                        description: Power reference communication mode when PRC_Mode = 2, 0- use constant DISCON inputs, 1- use open loop inputs, 2- use ZMQ inputs
                        default: 0
                    PRC_R_Torque:
                        type: number
                        description: Constant power rating through changing the rated torque, used if PRC_Mode = 2, PRC_Comm = 0, default is 1, effective above rated [-]
                        default: 1
                    PRC_R_Speed:
                        type: number
                        description: Constant power rating through changing the rated generator speed, used if PRC_Mode = 2, PRC_Comm = 0, default is 1, effective above rated [-]
                        default: 1
                    PRC_R_Pitch:
                        type: number
                        description: Constant power rating through changing the fine pitch angle, used if PRC_Mode = 2, PRC_Comm = 0, default is 1, effective below rated [-]
                        default: 1
                    PRC_Table_n:
                        type: number
                        description: Number of elements in PRC_R to _Pitch table.  Used if PRC_Mode = 1.
                        default: 20
                    PRC_Pitch_Table:
                        type: array
                        items:
                            type: number
                        description: Table of fine pitch versus PRC_R_Table, length should be PRC_Table_n [rad].  Used if PRC_Mode = 1.
                        default: [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
                    PRC_R_Table:
                        type: array
                        items:
                            type: number
                        description: Table of turbine rating versus fine pitch (PRC_Pitch_Table), length should be PRC_Table_n, default is 1 [-].  Used if PRC_Mode = 1.
                        default: [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]
                    TRA_ExclSpeed:
                        type: number
                        minimum: 0
                        description: Rotor speed for exclusion [LSS, rad/s]
                        default: 0.0
                    TRA_ExclBand:
                        type: number
                        minimum: 0
                        description: Size of the rotor frequency exclusion band [LSS, rad/s]. Torque controller reference will be TRA_ExclSpeed +/- TRA_ExlBand/2
                        default: 0.0
                    TRA_RateLimit:
                        type: number
                        minimum: 0
                        description: Rate limit of change in rotor speed reference [LSS, rad/s].  Suggested to be VS_RefSpd/400.
                        default: 0.0
                    WE_BladeRadius:
                        type: number
                        description: Blade length (distance from hub center to blade tip)
                        units: m
                    WE_CP_n:
                        type: number
                        description: Amount of parameters in the Cp array
                    WE_CP:
                        type: array
                        items:
                            type: number
                        description: Parameters that define the parameterized CP(lambda) function
                    WE_Gamma:
                        type: number
                        description: Adaption gain of the wind speed estimator algorithm 
                        units: m/rad
                    WE_GearboxRatio:
                        type: number
                        description: Gearbox ratio, >=1
                    WE_Jtot:
                        type: number
                        description: Total drivetrain inertia, including blades, hub and casted generator inertia to LSS
                        units: kg m^2
                    WE_RhoAir:
                        type: number
                        description: Air density
                        units: kg m^-3
                    PerfFileName:
                        type: string
                        description: File containing rotor performance tables (Cp,Ct,Cq) (absolute path or relative to this file)
                    PerfTableSize:
                        type: number
                        description: Size of rotor performance tables, first number refers to number of blade pitch angles, second number referse to number of tip-speed ratios
                    WE_FOPoles_N:
                        type: number
                        description: Number of first-order system poles used in EKF
                    WE_FOPoles_v:
                        type: array
                        items:
                            type: number
                        description: Wind speeds corresponding to first-order system poles 
                        units: m/s
                    WE_FOPoles:
                        type: array
                        items:
                            type: number
                        description: First order system poles
                        units: 1/s
                    Y_ErrThresh:
                        type: number
                        description: Yaw error threshold. Turbine begins to yaw when it passes this
                        units: rad^2 s
                    Y_IPC_IntSat:
                        type: number
                        description: Integrator saturation (maximum signal amplitude contribution to pitch from yaw-by-IPC)
                        units: rad
                    Y_IPC_n:
                        type: number
                        description: Number of controller gains (yaw-by-IPC)
                    Y_IPC_KP:
                        type: number
                        description: Yaw-by-IPC proportional controller gain Kp
                    Y_IPC_KI:
                        type: number
                        description: Yaw-by-IPC integral controller gain Ki
                    Y_IPC_omegaLP:
                        type: number
                        description: Low-pass filter corner frequency for the Yaw-by-IPC controller to filtering the yaw alignment error
                        units: rad/s.
                    Y_IPC_zetaLP:
                        type: number
                        description: Low-pass filter damping factor for the Yaw-by-IPC controller to filtering the yaw alignment error.
                    Y_MErrSet:
                        type: number
                        description: Yaw alignment error, set point 
                        units: rad
                    Y_omegaLPFast:
                        type: number
                        description: Corner frequency fast low pass filter, 1.0 
                        units: rad/s
                    Y_omegaLPSlow:
                        type: number
                        description: Corner frequency slow low pass filter, 1/60 
                        units: rad/s
                    Y_Rate:
                        type: number
                        description: Yaw rate 
                        units: rad/s
                    FA_KI:
                        type: number
                        description: Integral gain for the fore-aft tower damper controller, -1 = off / >0 = on 
                        units: rad s/m
                    FA_HPFCornerFreq:
                        type: number
                        description: Corner frequency (-3dB point) in the high-pass filter on the fore-aft acceleration signal
                        units: rad/s
                    FA_IntSat:
                        type: number
                        description: Integrator saturation (maximum signal amplitude contribution to pitch from FA damper)
                        units: rad
                    PS_BldPitchMin_N:
                        type: number
                        description: Number of values in minimum blade pitch lookup table (should equal number of values in PS_WindSpeeds and PS_BldPitchMin)
                    PS_WindSpeeds:
                        type: array
                        items:
                            type: number
                        description: Wind speeds corresponding to minimum blade pitch angles
                        units: m/s
                    PS_BldPitchMin:
                        type: array
                        items:
                            type: number
                        description: Minimum blade pitch angles
                        units: rad
                    SU_StartTime:
                        type: number
                        description: Time to start startup routine [s]
                        units: s
                        default: 120
                    SU_FW_MinDuration:
                        type: number
                        description: Free-wheel minimum duration [s]
                        units: s
                        default: 200
                    SU_RotorSpeedThresh:
                        type: number
                        description: Rotor speed threshhold to switch from freewheel to loads [rad/s]
                        units: rad/s
                        default: 0.52
                    SU_RotorSpeedCornerFreq:
                        type: number
                        description: Cutoff Frequency for first order low-pass filter for rotor speed for startup [rad/s]
                        units: rad/s
                        default: 0.41888
                    SU_LoadStages_N:
                        type: number
                        description: Number of load staged for startup (should equal number of values in SU_LoadStages, SU_LoadRampDuration and SU_LoadHoldDuration)
                        default: 2
                    SU_LoadStages:
                        type: array
                        items:
                            type: number
                        description: Array containing loads as a fraction of full generator torque during startup
                        default: [0.2, 1.0]
                    SU_LoadRampDuration:
                        type: array
                        items:
                            type: number
                        description: Array containing ramp duration to reach the corresponding partial loads during startup [s]
                        default: [100, 100]
                    SU_LoadHoldDuration:
                        type: array
                        items:
                            type: number
                        description: Array containing duration to hold the partial loads during startup [s]
                        default: [200, 100]
                    SD_TimeActivate:
                        type: number
                        description: Time to acitvate shutdown modes [s]
                        units: s
                        default: 0
                    SD_EnablePitch:
                        type: number
                        description: Shutdown when collective blade pitch exceeds a threshold
                        minimum: 0
                        maximum: 1
                        default: 0
                    SD_EnableYawError:
                        type: number
                        description: Shutdown when yaw error exceeds a threshold
                        minimum: 0
                        maximum: 1
                        default: 0
                    SD_EnableGenSpeed:
                        type: number
                        description: Shutdown when generator speed exceeds a threshold
                        minimum: 0
                        maximum: 1
                        default: 0
                    SD_EnableTime:
                        type: number
                        description: Shutdown at a predefined time
                        minimum: 0
                        maximum: 1
                        default: 0
                    SD_MaxPit:
                        type: number
                        description: Maximum blade pitch angle to initiate shutdown
                        units: rad
                    SD_PitchCornerFreq:
                        type: number
                        description: Cutoff Frequency for first order low-pass filter for blade pitch angle for shutdown,
                        units: rad/s
                        default: 0.41888
                    SD_MaxYawError:
                        type: number
                        description: Maximum yaw error to initiate shutdown
                        units: deg
                    SD_YawErrorCornerFreq:
                        type: number
                        description: Cutoff Frequency for first order low-pass filter for yaw error for shutdown
                        units: rad/s
                        default: 0.41888
                    SD_MaxGenSpd:
                        type: number
                        description: Maximum generator speed to initiate shutdown
                        units: rad/s
                    SD_GenSpdCornerFreq:
                        type: number
                        description: Cutoff Frequency for first order low-pass filter for generator speed for shutdown
                        units: rad/s
                        default: 0.41888
                    SD_Time:
                        type: number
                        description: Shutdown time [s]
                        units: s
                        default: 9999
                    SD_Method:
                        type: number
                        description: Shutdown method {1- Reduce generator torque and increase blade pitch in timed stages (SD_StageTime), 2- stages depend on pitch angle (SD_StagePitch)}
                        minimum: 1
                        maximum: 2
                        default: 1
                    SD_MaxTorqueRate:
                        type: array
                        items:
                            type: number
                        description: Maximum torque rate for shutdown [Nm/s]
                        units: Nm/s
                    SD_MaxPitchRate:
                        type: array
                        items:
                            type: number
                        description: Maximum pitch rate used for shutdown [rad/s]
                        units: rad/s
                    SD_StageTime:
                        type: array
                        items:
                            type: number
                        description: Array containing the time to spend in each shutdown stage [s]
                    SD_StagePitch:
                        type: array
                        items:
                            type: number
                        description: Array with pitch angles to reach in each shutdown stage [rad]. If the pitch < SD_StagePitch[i], the SD_Stage = i.  If pitch > SD_StagePitch[SD_Stage_N], the maximum rates are used.
                    SD_Stage_N:
                        type: number
                        description: Number of shutdown stages (should equal number of values in SD_MaxPitchRate and SD_MaxTorqueRate) [-]
                    Fl_n:
                        type: number
                        description: Number of Fl_Kp gains in gain scheduling, optional with default of 1
                        units: s
                    Fl_Kp:
                        type: array
                        description: Nacelle velocity proportional feedback gain 
                        units: s
                        items:
                            type: number
                    Fl_U:
                        type: array
                        description: Wind speeds for scheduling Fl_Kp, optional if Fl_Kp is single value [m/s]
                        units: s
                        items:
                            type: number
                    Flp_Angle:
                        type: number
                        description: Initial or steady state flap angle 
                        units: rad
                    Flp_Kp:
                        type: number
                        description: Blade root bending moment proportional gain for flap control
                        units: s
                    Flp_Ki:
                        type: number
                        description: Flap displacement integral gain for flap control
                    Flp_MaxPit:
                        type: number
                        description: Maximum (and minimum) flap pitch angle
                        units: rad
                    OL_Filename:
                        type: string
                        description: Input file with open loop timeseries (absolute path or relative to this file)
                    OL_BP_Mode:
                        description: Breakpoint mode for open loop control, 0 - indexed by time (default), 1 - indexed by wind speed
                        type: number
                    OL_BP_FiltFreq:
                        description: Natural frequency of 1st order filter on breakpoint for open loop control. 0 will skip filter.
                        type: number
                        default: 0
                    Ind_Breakpoint:
                        type: number
                        description: The column in OL_Filename that contains the breakpoint (time if OL_Mode > 0)
                    Ind_BldPitch:
                        type: number
                        description: The column in OL_Filename that contains the blade pitch input in rad
                    Ind_GenTq:
                        type: number
                        description: The column in OL_Filename that contains the generator torque in Nm
                    Ind_YawRate:
                        type: number
                        description: The column in OL_Filename that contains the generator torque in Nm
                    Ind_Azimuth:
                        type: number
                        description: The column in OL_Filename that contains the desired azimuth position in rad (used if OL_Mode = 2)
                    RP_Gains:
                        type: array
                        description: PID gains and Tf of derivative for rotor position control (used if OL_Mode = 2)
                        default: [0,0,0,0]
                        items:
                            type: number
                    Ind_R_Speed:
                        description: Index (column, 1-indexed) of power rating via speed offset
                        type: number
                        minimum: 0
                    Ind_R_Torque:
                        description: Index (column, 1-indexed) of power rating via torque offset
                        type: number
                        minimum: 0
                    Ind_R_Pitch:
                        description: Index (column, 1-indexed) of power rating via pitch offset
                        type: number
                        minimum: 0
                    Ind_CableControl:
                        type: array
                        items:
                            type: number
                        description: The column in OL_Filename that contains the cable control inputs in m
                        # default: [0] # No default because it's defined in controller and DISCON_Dict
                    Ind_StructControl:
                        type: array
                        items:
                            type: number
                        description: The column in OL_Filename that contains the structural control inputs in various units
                        # default: [0]  # No default because it's defined in controller and DISCON_Dict
                    DLL_FileName:
                        type: string
                        description: Name/location of the dynamic library {.dll [Windows] or .so [Linux]} in the Bladed-DLL format
                        default: unused
                    DLL_InFile:
                        type: string
                        description: Name of input file sent to the DLL
                        default: unused
                    DLL_ProcName:
                        type: string
                        description: Name of procedure in DLL to be called
                        default: DISCON
                    PF_Offsets:
                        type: array
                        items:
                            type: number
                        description: Pitch angle offsets for each blade (array with length of 3), only used if PF_Mode = 1
                        units: rad
                        default: [0,0,0]
                    PF_TimeStuck:
                        type: array
                        items:
                            type: number
                        description: Time pitch actuator becomes stuck at last value for each blade (array with length of 3), only used if PF_Mode = 2
                        units: seconds
                        default: [9999,9999,9999]
                    CC_Group_N:
                        type: number
                        description: Number of cable control groups
                        default: 0
                    CC_GroupIndex:
                        type: array
                        items:
                            type: number
                        description: First index for cable control group, should correspond to deltaL
                        default: [0]
                    CC_ActTau:
                        type: number
                        description: Time constant for line actuator [s]
                        default: 20
                    StC_Group_N:
                        type: number
                        description: Number of cable control groups
                        default: 0
                    StC_GroupIndex:
                        type: array
                        items:
                            type: number
                        description: First index for structural control group, options specified in ServoDyn summary output
                        default: [0]
                    AWC_Mode:
                        type: number
                        minimum: 0
                        maximum: 5
                        default: 0
                        description: Active wake control mode {0 - not used, 1 - complex number method, 2 - Coleman transformation method, 3 to 5 - Closed-loop AWC}
                    AWC_NumModes:
                        type: number
                        description: Number of AWC modes
                        units: rad
                        default: 1
                    AWC_n:
                        type: array
                        items:
                            type: number
                        description: AWC azimuthal number (only used in complex number method)
                        default: [1]
                    AWC_harmonic:
                        type: array
                        items:
                            type: integer
                        description: AWC Coleman transform harmonic (only used in Coleman transform method)
                        default: [1]
                    AWC_freq:
                        type: array
                        items:
                            type: number
                        description: AWC frequency [Hz]
                        units: Hz
                        default: [0.05]
                    AWC_amp:
                        type: array
                        items:
                            type: number
                        description: AWC amplitude [deg]
                        units: deg
                        default: [1.0]
                    AWC_clockangle:
                        type: array
                        items:
                            type: number
                        description: AWC clock angle [deg]
                        units: deg
                        default: [0]
                    AWC_phaseoffset:
                        type: number
                        description: Azimuth offset in the Coleman transformation [deg]
                        units: deg
                        default: 0
                    AWC_CntrGains:
                        type: array
                        items:
                            type: number
                        description: KP and KI/KR gain of the active wake controller [-]
                        default: [0.0, 0.0]
                    ZMQ_CommAddress:
                        type: string
                        description: Communication address for ZMQ server, (e.g. "tcp://localhost:5555")
                        default: tcp://localhost:5555
                    ZMQ_UpdatePeriod:
                        type: number
                        description:  Update period at zmq interface to send measurements and wait for setpoint [sec.]
                        default: 1.0
                    ZMQ_ID:
                        type: number
                        description: Integer identifier of turbine
                        default: 0

    linmodel_tuning:
        type: object
        default: {}
        description: Inputs used for tuning ROSCO using linear (level 2) models
        properties:
            type: 
                type: string
                description: Type of level 2 based tuning - robust gain scheduling (robust) or simulation based optimization (simulation)
                default: 'none' 
                enum: ['none', 'robust', 'simulation']
            linfile_path:
                type: string
                description: Path to OpenFAST linearization (.lin) files, if they exist 
                default: none
            lintune_outpath:
                type: string
                description: Path for outputs from linear model based tuning
                default: lintune_outfiles
            load_parallel:
                type: boolean
                description: Load linearization files in parallel (True/False)
                default: False
            stability_margin:
                type: [number, array]
                description: Desired maximum stability margin
                default: 0.1
                items:
                    type: number
            omega_pc:
                type: object
                default: {}
                description: Pitch controller bandwidth constraints
                min:
                    type: [number, array]
                    default: 0.0
                    description: Desired maximum allowable omega for robust tuning. Array must be of length U_pc.
                    items:
                        type: number
                max:
                    type: [number, array]
                    default: 0.2
                    description: Desired maximum allowable omega for robust tuning. Array must be of length U_pc.
                    items:
                        type: number
       
